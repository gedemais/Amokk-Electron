appId: com.amokk.app
productName: AMOKK
directories:
  buildResources: assets
  output: release

files:
  - dist-electron/**/*
  - node_modules/**/*
  - package.json

# Package backend and assets as extraResources (more reliable than files)
# Note: dist/ is in extraResources only (not duplicated in files)
extraResources:
  - from: dist
    to: dist
  - from: dist-electron
    to: dist-electron
  - from: backend/dist
    to: backend/dist
  - from: backend/launcher.py
    to: backend/launcher.py
  - from: backend/main.py
    to: backend/main.py
  - from: backend/requirements.txt
    to: backend/requirements.txt
  - from: assets
    to: assets

# Include Python runtime bundled with the app
extraMetadata:
  pythonBundled: true

# Windows Configuration
win:
  target:
    - portable
  icon: assets/icon.ico
  artifactName: 'frontend.exe'
  signAndEditExecutable: false

# Linux Configuration
linux:
  executableName: amokk
  target:
    - AppImage
  icon: assets/icon.png
  category: Utility
